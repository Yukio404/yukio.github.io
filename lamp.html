<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation de LAMP sur Debian</title>
</head>
<body>
    <h1 id="introduction">Introduction</h1>
    <p><strong>LAMP</strong> désigne un ensemble de 4 choses:
    1) Linux
    2) Un serveur web <strong>Apache</strong> 
    3) My-sql
    4) Le langage de programmation <strong>php</strong></p>
    <p>Ces 4 technologies forment une <strong>pile</strong> (stack en anglais) vous permettant l&#39;hebergement de vos <em>sites</em> ou de vos <em>applications web dynamiques</em>.</p>
    <p>Dans ce tuto, nous allons voir comment mettre en place ces 4 outils et installer PhpMyAdmin afin de gérer notre Base De Données grâce à une interface graphique.</p>
    <h1 id="pr-requis">Pré-Requis</h1>
    <p>1) Des bases administratives sur Linux</p>
    <h1 id="l-installation">L&#39;installation</h1>
    <h2 id="etape-1-la-mise-jour-du-syst-me">Etape 1: la mise à jour du système</h2>
    <p>Commençons par nous connecter à l&#39;utilisateur &quot;root&quot; via la commande <code>su</code>.
    Afin d&#39;être sur que tous les packages puissent être installés, il faut mettre à jour votre système via cette commande:
    <code>apt update &amp;&amp; apt upgrade -y</code></p>
    <p>Maintenant, nous sommes sur qu&#39;aucun problème en rapport avec des packages ne surviendra !</p>
    <h2 id="etape-2-cr-er-un-nouvel-utilisateur-avec-les-privil-ges-sudo-">Etape 2: créer un nouvel utilisateur avec les privilèges <strong>sudo</strong></h2>
    <p>Pour des raisons pratiques mais également de sécurités, nous allons créer un nouvel utilisateur où nous gérerons et installerons notre serveur.
    Pour créer l&#39;utilisateur, il vous suffit de taper cette commande dans votre terminal:
    <code>adduser mynewuser</code>
    Ici, <em>mynewuser</em> sera notre nom d&#39;utilisateur. Vous pouvez le remplacer par celui voulu.</p>
    <p>Il vous sera demander plusieurs informations.
    Certaines optionnelles tels que votre numéro de téléphone ou votre nom par exemple, d&#39;autres seront obligatoires, votre mot de passe par exemple.</p>
    <p>Une fois notre utilisateur crée, il nous faut le rajouter au groupe <strong>sudo</strong>.
    Pour cela, tapez cette commande:
    <code>usermod -aG sudo mynewuser</code>
    <em>mynewuser</em> étant mon nom d&#39;utilisateur, remplacez le par celui crée.</p>
    <p>Enfin, connectons nous à ce compte grâce à cette commande:
    <code>su - mynewuser</code></p>
    <h2 id="etape-3-installation-du-serveur-web-apache-">Etape 3: installation du serveur web <strong>Apache</strong></h2>
    <p>Maintenant que notre Linux est prêt, installons et configurons <strong>Apache</strong></p>
    <p>Nous allons installer la version 2. Pour ce faire, c&#39;est très simple, il vous suffit de taper cette commande:
    <code>apt install apache2 apache2-doc</code></p>
    <p>Si tout s&#39;est bien passé, vous avez maintenant accès à une la page web par défaut d&#39;<strong>Apache</strong> à cette adresse: <a href="http://127.0.0.1/">localhost</a> qui devrait ressembler à quelque chose dans ce genre
    <img src="apache.png" alt="apache2"></p>
    <p>Pour vérifier l&#39;état du service <strong>Apache</strong>:
    <code>service apache2 status</code>
    Si la mention <strong><em>active (running)</em></strong> apparait, alors <strong>Apache</strong> est lancé.</p>
    <p>Pour lancer <strong>Apache</strong>: 
    <code>service apache2 start</code></p>
    <p>Pour stopper <strong>Apache</strong>:
    <code>service apache2 stop</code></p>
    <p>Pour relancer <strong>Appache</strong>:
    <code>service apache2 restart</code></p>
    <h2 id="etape-4-installation-de-php">Etape 4: installation de PHP</h2>
    <p>Ici, nous utiliserons la version la plus récente de <strong>php</strong>, la version 5.
    Pour l&#39;installer, tapez cette commande:
    <code>sudo apt install php5-common libapache2-mod-php5 php5-cli</code></p>
    <p>Pour vérifier notre installation, executez ces deux commandes:
    <code>cd /var/www/html
    sudo nano info.php</code></p>
    <p>L&#39;éditeur <strong>nano</strong> vient de s&#39;ouvrir dans votre terminal, recopiez les lignes ci dessous dans l&#39;editeur:
    <code>&lt;?php
    phpinfo();
    ?&gt;</code>
    Accédez ensuite au fichier via votre navigateur: <a href="http://127.0.0.1/info.php">localhost/info.php</a></p>
    <p>Vous devriez voir une page listant toutes les spécifités de <strong>php</strong> ressemblant à ça
    <img src="php5.png" alt="php5"></p>
    <p>Une fois ce test fais, je vous recommande vivement de supprimer le fichier info.php que nous venons de créer, en effet, il n&#39;est pas recommandé de donner publiquement des détails sur votre configuration.</p>
    <h2 id="etape-5-installation-de-mysql-">Etape 5: installation de <strong>MySQL</strong></h2>
    <p>Attaquon nous maintenant au système de base de données.</p>
    <p><code>sudo apt install mysql-server</code>
    Cette commande vous servira à installer <strong>MySQL</strong>.</p>
    <p>Par défaut, le mot de passe de <strong>MySQL</strong> est le même que celui de votre utilisateur système.
    Pour sécuriser votre base de données, voici la commande à taper:
    <code>mysql_secure_installation</code></p>
    <p>Entrez votre mot de passe &quot;root&quot;, puis changez le mot de passe:
    <code>Change the root password? [Y/n] =&gt; y
    New password:</code></p>
    <p>Desactivez maintenant les connexions anonymes:
    <code>Remove anonymous users? [Y/n] =&gt; y</code></p>
    <p>Desactivez la connexion &quot;root&quot; à distance:
    <code>Disallow root login remotely? [Y/n] =&gt; y</code></p>
    <p>Maintenant, nous devons effacer la base de données de test par défaut:
    <code>Remove test database and access to it? [Y/n] =&gt; y</code></p>
    <p>Chargeons ensuite les nouveaux paramètres:
    <code>Reload privilege tables now? [Y/n] =&gt; y</code></p>
    <p>Voici la commande pour tester l&#39;accès à votre base de données:
    `mysql -u root -p <password></p>
    <p>MariaDB [(none)]&gt; show databases;
    MariaDB [(none)]&gt; exit`</p>
    <h2 id="etape-6-installation-de-phpmyadmin">Etape 6: installation de PhpMyAdmin</h2>
    <p>La création de notre serveur LAMP est terminée, mais je vous conseil de suivre cette étape afin de gérer vos bases de données plus facilement. 
    Bien entendu, c&#39;est vous qui décidez ;).</p>
    <p>Pour l&#39;installer, tapez cette commande:
    <code>sudo apt install phpmyadmin</code></p>
    <p>Cochez <strong>apache2</strong> puis faites entrée.
    Acceptez l&#39;aide à la configuration, puis rentrez le mot de passe que vous voulez.</p>
    <p>Afin d&#39;accéder à l&#39;interface <strong>PhpMyAdmin</strong>, editez le fichier de configuration <strong>apache</strong> via cette commande:
    <code>sudo nano /etc/apache2/apache2.conf</code></p>
    <p>A la fin du fichier, ajoutez ceci:
    <code># Include phpMyAdmin
    Include /etc/phpmyadmin/apache.conf</code></p>
    <p>Relancez ensuite le serveur <strong>Apache</strong> grâce à cette commande:
    <code>sudo service apache2 restart</code></p>
    <p>Pour vous connectez, vous devez créer un utilisateur possédant les droits administrateurs comme suit:
    <code>mysql -u root -p
    [mot de passe]
    MariaDB [(none)]&gt; CREATE USER &#39;my_user&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;my_password&#39;;
    MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON * . * TO &#39;my_user&#39;@&#39;localhost&#39;;
    MariaDB [(none)]&gt; FLUSH PRIVILEGES;</code></p>
    <p>Accédez ensuite à votre interface: <a href="http://127.0.0.1/phpmyadmin/">localhost/phpmyadmin</a></p>
    <p>Et voila ! Le tuto est fini.
    Si vous avez des question ou si vous voulez me donner votre avis ainsi que des idées de tuto ou d&#39;améliorations, contactez moi sur discord: <em>Yukio#6174</em></p>
</body>
</html>
